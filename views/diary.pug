extends layout

block content
  nav.navbar.navbar-expand-lg.navbar-light.fixed-top(role="navigation")
    a.navbar-brand(href="/")#titlecolor MyBlog
    button.navbar-toggler(type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation")
      span.navbar-toggler-icon
    div.collapse.navbar-collapse#navbarSupportedContent
      ul.navbar-nav.mr-auto
        li.nav-itm
          a.fas.fa-pen-fancy.nav-link(href="/posts/new") &nbsp;記事を書く&nbsp;
        li.nav-itm
          a.nav-link.fas.fa-book-reader(href="/") &nbsp;あなたの記事&nbsp;
        li.nav-itm
          a.nav-link.fas.fa-book-reader(href="/alldiaries") &nbsp;みんなの記事&nbsp;
        //- li.nav-itm
        //-   a.fas.fa-search.nav-link(href="/search") &nbsp;検索&nbsp;
        li.nav-itm
          a.fas.fa-sign-out-alt.nav-link(href="/logout") #{user.displayName} をログアウト&nbsp;
  div#diary.container
    h4 #{diary.diaryName}
    p 作成者 #{diary.user.username} 投稿日時: #{diary.formattedUpdatedAt}
    //- script.
    //-   $("#autlink").each(function(){
    //-   $(this).html( $(this).html().replace(/((http|https|ftp):\/\/[\w?=&.\/-;#~%-]+(?![\w\s?&.\/;#~%"=-]*>))/g, '<a href="$1">$1</a> ') );
    //-   });
    //- p(style="white-space:pre;", id="autlink") #{diary.text}
    pre#txt #{diary.text}
    - var isMine = parseInt(user.id) === parseInt(diary.user.userId)
    if isMine
      div#btn-position
        a.btn3.default(href=`/posts/${diary.diaryId}/edit`) この記事を編集する